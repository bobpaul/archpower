# Maintainer: Alexander Baldeck <alex.bldck@gmail.com>
pkgname=pbbuttonsd
pkgver=0.8.1a
pkgrel=1
pkgdesc=""
arch=(powerpc)
url="https://sourceforge.net/projects/pbbuttons/"
license=('GPL2')
depends=('glib2' 'alsa-lib' 'hdparm')
makedepends=('pkgconf')
source=("https://downloads.sf.net/project/pbbuttons/${pkgname}/${pkgver}/${pkgname}-${pkgver}.tar.gz"
	"pbbuttonsd-moderncrap.patch")
sha256sums=('254cc391bcb0a4a58a62224b4cca2b29fdf9ca174c1dc18ab0784f1a86465ed1'
            '045aa9b29c45dcd4d0ec2b18c2c2f9024774c355bd8afd075d10200a9529a829')

prepare() {
  cd "$pkgname-$pkgver"
  patch -Np1 -i ${srcdir}/pbbuttonsd-moderncrap.patch
}

build() {
  cd "$pkgname-$pkgver"
  CFLAGS+=' -fcommon' \
  ./configure --prefix=/usr \
              --sysconfdir=/etc \
              --with-alsa
  make
}

package() {
  cd "$pkgname-$pkgver"
  make DESTDIR="$pkgdir/" install
}
